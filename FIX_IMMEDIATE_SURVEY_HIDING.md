# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –û–ø—Ä–æ—Å –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞ –æ–Ω –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç —Å—Ä–∞–∑—É –∏–∑ —Å–ø–∏—Å–∫–∞, –∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

## –ü—Ä–∏—á–∏–Ω–∞
–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–æ–º, —á—Ç–æ:
1. `SurveyModal` –∑–∞–∫—Ä—ã–≤–∞–ª—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞
2. `loadSurveys()` –≤—ã–∑—ã–≤–∞–ª—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–æ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º –æ–ø—Ä–æ—Å–µ –µ—â–µ –Ω–µ —É—Å–ø–µ–≤–∞–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ localStorage
3. –ù–µ –±—ã–ª–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–ø–∏—Å–∫–∞

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –í `SurveyModal.jsx`
**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞:**
```javascript
const closeModal = async () => {
  setCurrentQuestion(0);
  setAnswers({});
  setIsCompleted(false);
  setSurveyResult(null);
  
  // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–∏—Ç—å—Å—è —Å–ø–∏—Å–∫—É –æ–ø—Ä–æ—Å–æ–≤
  setTimeout(() => {
    onClose();
  }, 500); // 500–º—Å –∑–∞–¥–µ—Ä–∂–∫–∏
};
```

### 2. –í `HomeTab.jsx`
**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π —Å–ø–∏—Å–∫–∞ –æ–ø—Ä–æ—Å–æ–≤:**
```javascript
const handleSurveyComplete = async (surveyId, answers) => {
  try {
    console.log(`‚úÖ –û–ø—Ä–æ—Å ${surveyId} –∑–∞–≤–µ—Ä—à–µ–Ω, –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫...`);
    const result = await submitSurvey(surveyId, answers);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞
    await refreshUserProfile();
    
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π —Å–ø–∏—Å–∫–∞ –æ–ø—Ä–æ—Å–æ–≤
    // —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º –æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º –æ–ø—Ä–æ—Å–µ
    setTimeout(() => {
      console.log(`üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ${surveyId}`);
      loadSurveys();
    }, 100); // 100–º—Å –∑–∞–¥–µ—Ä–∂–∫–∏
    
    return result;
  } catch (error) {
    console.error('Error completing survey:', error);
    throw error;
  }
};
```

**–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `loadSurveys`:**
```javascript
const loadSurveys = async () => {
  try {
    console.log('üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤...');
    setSurveysLoading(true);
    
    const availableSurveys = await getAvailableSurveys();
    
    const filteredSurveys = availableSurveys.filter(survey => {
      const surveyLanguage = survey.language || 'ru';
      const matchesLanguage = surveyLanguage === language;
      const isNotCompleted = !isSurveyCompleted(survey.id);
      
      return matchesLanguage && isNotCompleted;
    });
    
    console.log(`üìä –û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤: ${filteredSurveys.length} –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ä–æ—Å–æ–≤`);
    setSurveys(filteredSurveys);
  } catch (error) {
    console.error('Error loading surveys:', error);
    setSurveys([]);
  } finally {
    setSurveysLoading(false);
  }
};
```

## –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç –æ–ø—Ä–æ—Å**
2. **–û–ø—Ä–æ—Å –æ—Ç–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π** –≤ localStorage
3. **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
4. **–ß–µ—Ä–µ–∑ 100–º—Å —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** (—á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º)
5. **–ß–µ—Ä–µ–∑ 500–º—Å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è** (—á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–∏—Ç—å—Å—è —Å–ø–∏—Å–∫—É)
6. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫** –±–µ–∑ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–≥–æ –æ–ø—Ä–æ—Å–∞

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–µ–ø–µ—Ä—å –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –ª–æ–≥–∏:
```
‚úÖ –û–ø—Ä–æ—Å 3xqyg9 –∑–∞–≤–µ—Ä—à–µ–Ω, –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫...
üîÑ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è 3xqyg9
üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤...
üìä –û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤: 0 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–ø—Ä–æ—Å–æ–≤
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –æ–ø—Ä–æ—Å–∞:
- ‚úÖ –û–ø—Ä–æ—Å –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø—Ä–æ—Å–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –∏ –ø—Ä–æ–π–¥–∏—Ç–µ –æ–ø—Ä–æ—Å
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**, —á—Ç–æ –æ–ø—Ä–æ—Å –∏—Å—á–µ–∑ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É** - –µ—Å–ª–∏ –ø—Ä–æ—à–µ–ª –æ–¥–∏–Ω –æ–ø—Ä–æ—Å –∏–∑ –≥—Ä—É–ø–ø—ã, –≤—Ç–æ—Ä–æ–π —Ç–æ–∂–µ –¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–Ω—É—Ç—å
